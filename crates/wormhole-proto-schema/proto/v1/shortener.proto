syntax = "proto3";

package shortener.v1;

import "google/protobuf/timestamp.proto";
import "shortcode.proto";

service ShortenerService {
  // Creates a short URL for the given original URL.
  rpc Create (CreateRequest) returns (CreateResponse);
}

message CreateRequest {
  // The original URL to be shortened.
  string original_url = 1;
  // Expiration time for the short URL, if not set, the short URL will never expire.
  google.protobuf.Timestamp expire_at = 2;
  // Optional custom alias for the short URL
  optional string custom_alias = 3;
}

message CreateResponse {
  // The generated short code for the original URL.
  shortcode.v1.ShortCode short_code = 1;
}
